function NewsCategory(){}NewsCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditCategoryEvent(),t.listenDeleteCategoryEvent()},NewsCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){xfzajax.post({url:"/cms/add_category/",data:{name:t},success:function(t){console.log(t),200===t.code?(console.log(t),console.log(t),window.location.reload()):xfzalert.close()},fail:function(t){xfzalert.close()}})}})})},NewsCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),n=t.attr("data-name");xfzalert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:n,confirmCallback:function(t){xfzajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},NewsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"您确定要删除这个分类吗？",confirmCallback:function(){xfzajax.post({url:"/cms/delete_news_category/",data:{pk:t},success:function(t){200===t.code&&window.location.reload()}})}})})},$(function(){(new NewsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfY2F0ZWdvcnkuanMiXSwibmFtZXMiOlsiTmV3c0NhdGVnb3J5IiwicHJvdG90eXBlIiwicnVuIiwic2VsZiIsInRoaXMiLCJsaXN0ZW5BZGRDYXRlZ29yeUV2ZW50IiwibGlzdGVuRWRpdENhdGVnb3J5RXZlbnQiLCJsaXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50IiwiJCIsImNsaWNrIiwieGZ6YWxlcnQiLCJhbGVydE9uZUlucHV0IiwidGl0bGUiLCJwbGFjZWhvbGRlciIsImNvbmZpcm1DYWxsYmFjayIsImlucHVWYWx1ZSIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsIm5hbWUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY2xvc2UiLCJmYWlsIiwidHIiLCJwYXJlbnQiLCJwayIsImF0dHIiLCJ2YWx1ZSIsImlucHV0VmFsdWUiLCJhbGVydENvbmZpcm0iXSwibWFwcGluZ3MiOiJBQUlBLFNBQVNBLGdCQUlUQSxhQUFhQyxVQUFVQyxJQUFNLFdBQ3pCLElBQUlDLEVBQU9DLEtBQ1hELEVBQUtFLHlCQUNMRixFQUFLRywwQkFDTEgsRUFBS0ksNkJBR1RQLGFBQWFDLFVBQVVJLHVCQUF5QixXQUMvQkcsRUFBRSxZQUNSQyxNQUFNLFdBQ1RDLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsU0FDVEMsWUFBZSxVQUNmQyxnQkFBbUIsU0FBVUMsR0FDekJDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxxQkFDUEMsS0FBUSxDQUNKQyxLQUFRTCxHQUVaTSxRQUFXLFNBQVVDLEdBQ2pCQyxRQUFRQyxJQUFJRixHQUNVLE1BQW5CQSxFQUFhLE1BQ1pDLFFBQVFDLElBQUlGLEdBQ1pDLFFBQVFDLElBQUlGLEdBQ1pHLE9BQU9DLFNBQVNDLFVBRWhCakIsU0FBU2tCLFNBR2pCQyxLQUFPLFNBQVVQLEdBQ2JaLFNBQVNrQixpQkFRakM1QixhQUFhQyxVQUFVSyx3QkFBMEIsV0FFL0JFLEVBQUUsYUFDUkMsTUFBTSxXQUNWLElBQ0lxQixFQURhdEIsRUFBRUosTUFDQzJCLFNBQVNBLFNBQ3pCQyxFQUFLRixFQUFHRyxLQUFLLFdBQ2JiLEVBQU9VLEVBQUdHLEtBQUssYUFDbkJ2QixTQUFTQyxjQUFjLENBQ25CQyxNQUFTLFNBQ1RDLFlBQWUsWUFDZnFCLE1BQVNkLEVBQ1ROLGdCQUFtQixTQUFVcUIsR0FDekJuQixRQUFRQyxLQUFLLENBQ1RDLElBQU8sMkJBQ1BDLEtBQVEsQ0FDSmEsR0FBTUEsRUFDTlosS0FBUWUsR0FFWmQsUUFBVyxTQUFVQyxHQUNLLE1BQW5CQSxFQUFhLEtBQ1pHLE9BQU9DLFNBQVNDLFNBRWhCakIsU0FBU2tCLGlCQVNyQzVCLGFBQWFDLFVBQVVNLDBCQUE0QixXQUMvQkMsRUFBRSxlQUNSQyxNQUFNLFdBQ1osSUFFSXVCLEVBRmF4QixFQUFFSixNQUNDMkIsU0FBU0EsU0FDakJFLEtBQUssV0FDakJ2QixTQUFTMEIsYUFBYSxDQUNsQnhCLE1BQVMsZUFDVEUsZ0JBQW1CLFdBQ2ZFLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyw2QkFDUEMsS0FBUSxDQUNKYSxHQUFNQSxHQUVWWCxRQUFXLFNBQVVDLEdBQ0ssTUFBbkJBLEVBQWEsTUFDWkcsT0FBT0MsU0FBU0Msa0JBVTVDbkIsRUFBRSxZQUNpQixJQUFJUixjQUNWRSIsImZpbGUiOiJuZXdzX2NhdGVnb3J5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGh5bmV2IG9uIDIwMTgvNy8yLlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIE5ld3NDYXRlZ29yeSgpIHtcclxuXHJcbn07XHJcblxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50KCk7XHJcbn07XHJcblxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkFkZENhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYWRkQnRuID0gJCgnI2FkZC1idG4nKTtcclxuICAgIGFkZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfmt7vliqDmlrDpl7vliIbnsbsnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAn6K+36L6T5YWl5paw6Ze75YiG57G7JyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2FkZF9jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGlucHVWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdmYWlsJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkVkaXRDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGVkaXRCdG4gPSAkKFwiLmVkaXQtYnRuXCIpO1xyXG4gICAgZWRpdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRCdG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1waycpO1xyXG4gICAgICAgIHZhciBuYW1lID0gdHIuYXR0cignZGF0YS1uYW1lJyk7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICfkv67mlLnliIbnsbvlkI3np7AnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAn6K+36L6T5YWl5paw55qE5YiG57G75ZCN56ewJyxcclxuICAgICAgICAgICAgJ3ZhbHVlJzogbmFtZSxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9lZGl0X25ld3NfY2F0ZWdvcnkvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogaW5wdXRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVsZXRlQnRuID0gJChcIi5kZWxldGUtYnRuXCIpO1xyXG4gICAgZGVsZXRlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudEJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBrJyk7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgJ3RpdGxlJzogJ+aCqOehruWumuimgeWIoOmZpOi/meS4quWIhuexu+WQl++8nycsXHJcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9kZWxldGVfbmV3c19jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwa1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNhdGVnb3J5ID0gbmV3IE5ld3NDYXRlZ29yeSgpO1xyXG4gICAgY2F0ZWdvcnkucnVuKCk7XHJcbn0pOyJdfQ==
